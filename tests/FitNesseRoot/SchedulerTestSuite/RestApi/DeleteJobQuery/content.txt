!*> '''Create Jobs'''
!define labels_1 ({ "app": "Scheduler", "product": "First" })
!define labels_2 ({ "app": "Scheduler", "product": "Second" })
!define labels_3 ({ "app": "Cron", "product": "Second" })

-!|script|!-RestTools-!|
|create job|${job_name_1}|uri|${request_uri_1}|recur|${cron_every_minute}|labels|${labels_1}|
|create job|${job_name_2}|uri|${request_uri_1}|recur|${cron_every_hour}  |labels|${labels_2}|
|create job|${job_name_3}|uri|${request_uri_2}|recur|${cron_every_minute}|labels|${labels_2}|
|create job|${job_name_4}|uri|${request_uri_2}|recur|${cron_every_hour}  |labels|${labels_3}|
*!

'''Check Jobs'''
|query:http result as table|${service_url}${api_jobs}                                      |
|name                      |request.uri     |recur.triggers.0    |labels.app|labels.product|
|${job_name_1}             |${request_uri_1}|${cron_every_minute}|Scheduler |First         |
|${job_name_2}             |${request_uri_1}|${cron_every_hour}  |Scheduler |Second        |
|${job_name_3}             |${request_uri_2}|${cron_every_minute}|Scheduler |Second        |
|${job_name_4}             |${request_uri_2}|${cron_every_hour}  |Cron      |Second        |

'''Delete jobs by labels: ${labels_2}'''
-!|script|!-RestTools-!|
|DELETE|${service_url}${api_jobs}?app=Scheduler&product=Second|

-!|script|!-RestTools-!|
|wait all jobs length|2|

'''Check jobs'''
|query:http result as table|${service_url}${api_jobs}                                      |
|name                      |request.uri     |recur.triggers.0    |labels.app|labels.product|
|${job_name_1}             |${request_uri_1}|${cron_every_minute}|Scheduler |First         |
|${job_name_4}             |${request_uri_2}|${cron_every_hour}  |Cron      |Second        |
